<!-- Test Helpers -->
<script>
  function flushEditor(component, callback = () => {}) {
    return Promise.resolve()
      .then(() => component.loadEditor())
      .then((editor) => {
        if (editor.view.inDOMChange) {
          editor.view.inDOMChange.finish();
        }

        callback();
      });
  }

  function wait(time = 25) {
    return () => new Promise((resolve) => setTimeout(resolve, time));
  }

  Object.assign(window, { flushEditor, wait });
</script>

<!-- Setup Simpla -->
<script src="../node_modules/simpla/simpla.js"></script>
<script>
  Simpla.init('local');
</script>
